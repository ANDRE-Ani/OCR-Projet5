{% extends 'base.html.twig' %}

{% block importJS %}
{% endblock %}

{% block title %}5Project - Liste des utilisateurs{% endblock %}

{% block content %}

<main role="main" class="container-fluid">
  <div class=".container-fluid">
  <div class="row">

<div class="col-sm-4 p-4">
      <div id="side">
      <h2>Administration</h2>
      <p><h4>Utilisateurs</h4></p>
<p>
{% if session.login is defined and session.login is not null%}
<i class="fas fa-address-card"></i> : {{ session.login }}
{% endif %}
</p>

    <p><a href="index.php?action=logout">Se déconnecter</a></p>
    <p><a href="index.php?action=gestionU">Gérer les utilisateurs</a></p>
    <p><a href="index.php?action=creationUser">Créer un utilisateur</a></p>
    </div>
</div>


   <div class="col-sm-8 p-4">
      <div id="cont">
<h2>Liste des utilisateurs</h2>
<div class="formulaireEdit">
        

        <!-- Récupération des informations des utilisateurs -->

<table>
<thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Nom</th>
        <th scope="col">Mail</th>
        <th scope="col">Date de création de compte</th>
        <th scope="col">Editer</th>
        <th scope="col">Supprimer</th>
</tr>
</thead>

{% for userList in usersAll %}

<tbody>
<tr>
        <td scope="row" data-label="ID">{{ userList.idU }}</td>
        <td scope="row" data-label="Nom">{{ userList.loginU }}</td>
        <td scope="row" data-label="Mail">{{ userList.mailU }}</td>
        <td scope="row" data-label="Date de créaation">{{ userList.creationU }}</td>
        <td scope="row" data-label="Editer"><a href="../index.php?action=viewEditUser&amp;id={{ userList.idU }}">Editer</a></td>
        <td scope="row" data-label="Supprimer"><a href="../index.php?action=deleteUser&amp;id={{ userList.idU }}">Supprimer</a></td>
   </tr>
</tbody>  
{% endfor %}
    </table>


</div>
    
</main>

{% block js %}
    <script src="js/date.js"></script>
    <script src="js/browser.js"></script>
{% endblock %}

  </div>
  </div>
    
{% endblock %}